#include "../include/msgs.h"
#include <stdio.h>
#include <unistd.h>
#include <string.h>

int main(){
  char input[256];
  char cwd[256];
  while(1){
    if(getcwd(cwd, sizeof(cwd)) == NULL) {
      fprintf(stderr, FORMAT_MSG("shell", GETCWD_ERROR_MSG));
      exit(1);
    }
    print("%s$", cwd);
    if(read(STDIN_FILENO, input, sizeof(input)) == -1){
      fprintf(stderr, FORMAT_MSG("shell", READ_ERROR_MSG));
      exit(1);
    }

    //int lastChar = strlen(input)-1;
    input[strlen(input)-1] = '\0';
    //handling background
    int background = 0;
    if(input[strlen(input)-1] == '&'){
      background = 1;
      input[strlen(input) -1] = '\0';
    }

    pid_t pid = fork();
    if(pid < 0){
      fprintf(stderr, FORMAT_MSG("shell", FORK_ERROR_MSG));
      exit(1);
    }
    else if (pid ==0){
      }

  }
}
